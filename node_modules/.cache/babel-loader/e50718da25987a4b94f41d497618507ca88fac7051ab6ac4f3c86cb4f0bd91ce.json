{"ast":null,"code":"var _jsxFileName = \"E:\\\\projects\\\\longmeet-lets-thango-main\\\\src\\\\components\\\\Room\\\\Video.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport * as React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport Grid from '@material-ui/core/Grid';\nimport VolumeDown from '@material-ui/icons/VolumeDown';\nimport VolumeOffSharpIcon from '@material-ui/icons/VolumeOffSharp';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { db } from '../../libs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  useRef,\n  useEffect,\n  useState,\n  memo\n} = React;\nconst useStyles = makeStyles({\n  slider: {\n    width: 100\n  }\n});\nexport const Video = _s(memo(_c = _s(({\n  peer,\n  callID\n}) => {\n  _s();\n  const classes = useStyles();\n  const videoRef = useRef(null);\n  const videoID = `#video_${peer.peerID.split('-')[0]}`;\n  const [value, setValue] = useState(process.env.NODE_ENV === 'development' ? 0 : 0.2);\n  useEffect(() => {\n    videoRef.current.srcObject = peer.remoteStream;\n    videoRef.current.volume = process.env.NODE_ENV === 'development' ? 0 : 0.2;\n  }, [peer.remoteStream]);\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n    if (videoRef.current) {\n      videoRef.current.volume = newValue;\n    }\n  };\n  const handlePIP = () => {\n    if (videoRef.current) {}\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `videos ${videoID.slice(1)}`,\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: /*#__PURE__*/_jsxDEV(\"video\", {\n        width: \"100%\",\n        id: videoID,\n        ref: videoRef,\n        autoPlay: true,\n        playsInline: true,\n        onDoubleClick: handlePIP\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"name\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: peer.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MuteIcon, {\n        peer: peer,\n        callID: callID\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      className: \"action\",\n      container: true,\n      spacing: 2,\n      justify: \"center\",\n      alignContent: \"center\",\n      alignItems: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Volume\",\n        placement: \"top\",\n        children: /*#__PURE__*/_jsxDEV(VolumeDown, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        className: classes.slider,\n        children: /*#__PURE__*/_jsxDEV(Slider, {\n          value: value,\n          onChange: handleChange,\n          \"aria-labelledby\": \"continuous-slider\",\n          min: 0,\n          max: 1,\n          step: 0.1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}, \"HgxOHv8clGHmNqxd35v04c9WfSQ=\", false, function () {\n  return [useStyles];\n})), \"HgxOHv8clGHmNqxd35v04c9WfSQ=\", false, function () {\n  return [useStyles];\n});\n_c2 = Video;\nconst MuteIcon = _s2(memo(_c3 = _s2(({\n  peer,\n  callID\n}) => {\n  _s2();\n  const [mute, setMute] = useState(false);\n  useEffect(() => {\n    if (callID.length > 0) {\n      const unsubscribe = db.collection('calls').doc(callID).collection('users').doc(peer.peerID).onSnapshot(snapshot => {\n        const data = snapshot.data();\n        setMute(data.mute);\n      });\n      return () => unsubscribe();\n    }\n  }, [peer.remoteStream, callID, peer.peerID]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: mute ? '' : 'Mute',\n      placement: \"top\",\n      children: mute ? /*#__PURE__*/_jsxDEV(VolumeOffSharpIcon, {\n        fontSize: \"small\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 18\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}, \"AKFV/3ngjeYs8kqyE04K8WcUXPA=\")), \"AKFV/3ngjeYs8kqyE04K8WcUXPA=\");\n_c4 = MuteIcon;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Video$memo\");\n$RefreshReg$(_c2, \"Video\");\n$RefreshReg$(_c3, \"MuteIcon$memo\");\n$RefreshReg$(_c4, \"MuteIcon\");","map":{"version":3,"names":["React","Slider","Grid","VolumeDown","VolumeOffSharpIcon","makeStyles","Tooltip","db","jsxDEV","_jsxDEV","Fragment","_Fragment","useRef","useEffect","useState","memo","useStyles","slider","width","Video","_s","_c","peer","callID","classes","videoRef","videoID","peerID","split","value","setValue","process","env","NODE_ENV","current","srcObject","remoteStream","volume","handleChange","event","newValue","handlePIP","className","slice","children","id","ref","autoPlay","playsInline","onDoubleClick","fileName","_jsxFileName","lineNumber","columnNumber","name","MuteIcon","container","spacing","justify","alignContent","alignItems","title","placement","item","onChange","min","max","step","_c2","_s2","_c3","mute","setMute","length","unsubscribe","collection","doc","onSnapshot","snapshot","data","fontSize","_c4","$RefreshReg$"],"sources":["E:/projects/longmeet-lets-thango-main/src/components/Room/Video.tsx"],"sourcesContent":["import * as React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { Peer } from '../../interfaces';\nimport Grid from '@material-ui/core/Grid';\nimport VolumeDown from '@material-ui/icons/VolumeDown';\nimport VolumeOffSharpIcon from '@material-ui/icons/VolumeOffSharp';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport { db } from '../../libs';\nimport {\n  User\n} from '../../interfaces';\n\nconst { useRef, useEffect, useState, memo } = React;\n\nconst useStyles = makeStyles({\n  slider: {\n    width: 100,\n  },\n});\n\ninterface VideoProp {\n  peer: Peer,\n  callID: string\n}\n\nexport const Video = memo(({\n  peer,\n  callID\n}: VideoProp) => {\n  const classes = useStyles();\n  const videoRef = useRef<HTMLVideoElement>(null)\n  const videoID = `#video_${peer.peerID.split('-')[0]}`;\n  const [value, setValue] = useState<number>(process.env.NODE_ENV === 'development' ? 0 : 0.2);\n\n  useEffect(() => {\n    videoRef.current!.srcObject = peer.remoteStream;\n    videoRef.current!.volume = process.env.NODE_ENV === 'development' ? 0 : 0.2;\n  }, [peer.remoteStream])\n\n  const handleChange = (event: any, newValue: number | number[]) => {\n    setValue(newValue as number);\n    if (videoRef.current) {\n      videoRef.current.volume = newValue as number;\n    }\n  };\n\n  const handlePIP = () => {\n    if (videoRef.current) {\n    }\n  }\n\n  return (\n    <div className={`videos ${videoID.slice(1,)}`}>\n      <span>\n        <video width='100%' id={videoID} ref={videoRef} autoPlay playsInline onDoubleClick={handlePIP}></video>\n      </span>\n      <div className='name'>\n        <div>\n          {peer.name}\n        </div>\n        <MuteIcon peer={peer} callID={callID}/>\n      </div>\n      <Grid className='action' container spacing={2} justify='center' alignContent='center' alignItems='center'>\n        <Tooltip title='Volume' placement='top'>\n          <VolumeDown />\n        </Tooltip>\n        <Grid item className={classes.slider}>\n          <Slider value={value} onChange={handleChange} aria-labelledby=\"continuous-slider\" min={0} max={1} step={0.1} />\n        </Grid>\n      </Grid>\n    </div>\n  )\n});\n\nconst MuteIcon = memo(({\n  peer,\n  callID\n}: VideoProp) => {\n  const [mute, setMute] = useState<boolean>(false);\n  \n  useEffect(() => {\n    if (callID.length > 0) {\n      const unsubscribe = db.collection('calls').doc(callID).collection('users').doc(peer.peerID).onSnapshot((snapshot) => {\n        const data = snapshot.data() as User;\n        setMute(data.mute);\n      });\n\n      return () => unsubscribe();\n    }\n  }, [peer.remoteStream, callID, peer.peerID])\n\n  return (\n    <div>\n      <Tooltip title={mute ? '' : 'Mute' } placement='top'>\n        {\n          mute ? <VolumeOffSharpIcon fontSize='small'/> : <></>\n        } \n      </Tooltip>\n    </div>\n  )\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}